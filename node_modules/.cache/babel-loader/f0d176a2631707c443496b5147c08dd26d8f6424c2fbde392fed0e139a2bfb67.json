{"ast":null,"code":"import _regeneratorRuntime from\"/home/amal/Desktop/PRT/recipe/recipe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/amal/Desktop/PRT/recipe/recipe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/amal/Desktop/PRT/recipe/recipe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Header from'../components/header/header';import axios from'axios';import{Link,useLocation}from'react-router-dom';import SearchCard from'../components/search/SearchCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchResults=_useState2[0],setSearchResults=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var url=process.env.REACT_APP_API;var location=useLocation();var searchParams=new URLSearchParams(location.search);var query=searchParams.get('q');var fetchSearchResults=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(url,\"/recipes/search?q=\").concat(query)).catch(function(e){return console.log(e);});case 2:response=_context.sent;setSearchResults(response.data);setLoaded(true);//console.log(response);\ncase 5:case\"end\":return _context.stop();}},_callee);}));return function fetchSearchResults(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchSearchResults();},[query]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center w-full min-h-[520px]\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3 text-3xl font-bold text-[grey]\",children:[\"Search results for : '\",query,\"'\"]}),searchResults.length!=0?searchResults.map(function(recipe){return/*#__PURE__*/_jsx(Link,{to:\"/recipe/\".concat(recipe._id),children:/*#__PURE__*/_jsx(SearchCard,{recipe:recipe})});}):setLoaded&&/*#__PURE__*/_jsx(\"img\",{className:\"w-[50%] p-5\",src:\"https://cdn.dribbble.com/users/1883357/screenshots/6016190/search_no_result.png\"})]})]});}export default SearchPage;","map":{"version":3,"names":["React","useEffect","useState","Header","axios","Link","useLocation","SearchCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchPage","_useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","loaded","setLoaded","url","process","env","REACT_APP_API","location","searchParams","URLSearchParams","search","query","get","fetchSearchResults","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","concat","catch","e","console","log","sent","data","stop","apply","arguments","children","className","length","map","recipe","to","_id","src"],"sources":["/home/amal/Desktop/PRT/recipe/recipe/src/pages/SearchPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Header from '../components/header/header'\nimport axios from 'axios';\nimport { Link, useLocation } from 'react-router-dom';\nimport SearchCard from '../components/search/SearchCard';\n\n\nfunction SearchPage() {\n  \n  const [searchResults,setSearchResults]=useState([]);\n  const [loaded,setLoaded]=useState(false)\n  const url=process.env.REACT_APP_API;\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get('q');\n  const fetchSearchResults=async ()=>{\n    const response=await axios.get(`${url}/recipes/search?q=${query}`).catch(e=>console.log(e));\n    setSearchResults(response.data);\n    setLoaded(true)\n    //console.log(response);\n}\n  useEffect(()=>{\n    fetchSearchResults();\n  }\n  ,[query]);\n  return (<>\n    <Header/>\n    <div className='flex flex-col items-center w-full min-h-[520px]'>\n    <p className='mt-3 text-3xl font-bold text-[grey]'>Search results for : '{query}'</p>\n    {searchResults.length!=0  ?\n     ( searchResults.map((recipe)=>{\n        return(\n          <Link to={`/recipe/${recipe._id}`}>\n        <SearchCard recipe={recipe}></SearchCard>\n        </Link>\n        );\n      }))\n      :\n(setLoaded && <img className='w-[50%] p-5' src='https://cdn.dribbble.com/users/1883357/screenshots/6016190/search_no_result.png'></img>)\n    }\n    </div>\n    \n    </>\n  )\n}\n\nexport default SearchPage;"],"mappings":"8XAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,UAAU,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGzD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAEpB,IAAAC,SAAA,CAAuCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,aAAa,CAAAF,UAAA,IAACG,gBAAgB,CAAAH,UAAA,IACrC,IAAAI,UAAA,CAAyBlB,QAAQ,CAAC,KAAK,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAACE,SAAS,CAAAF,UAAA,IACvB,GAAM,CAAAG,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,aAAa,CACnC,GAAM,CAAAC,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,GAAM,CAAAuB,YAAY,CAAG,GAAI,CAAAC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC,CACzD,GAAM,CAAAC,KAAK,CAAGH,YAAY,CAACI,GAAG,CAAC,GAAG,CAAC,CACnC,GAAM,CAAAC,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACF,CAAAzC,KAAK,CAAC6B,GAAG,IAAAa,MAAA,CAAItB,GAAG,uBAAAsB,MAAA,CAAqBd,KAAK,EAAG,CAACe,KAAK,CAAC,SAAAC,CAAC,QAAE,CAAAC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,QAArFR,QAAQ,CAAAG,QAAA,CAAAQ,IAAA,CACdhC,gBAAgB,CAACqB,QAAQ,CAACY,IAAI,CAAC,CAC/B7B,SAAS,CAAC,IAAI,CAAC,CACf;AAAA,wBAAAoB,QAAA,CAAAU,IAAA,MAAAd,OAAA,GACH,kBALO,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAKzB,CACCtD,SAAS,CAAC,UAAI,CACZiC,kBAAkB,EAAE,CACtB,CAAC,CACA,CAACF,KAAK,CAAC,CAAC,CACT,mBAAQrB,KAAA,CAAAE,SAAA,EAAA2C,QAAA,eACN/C,IAAA,CAACN,MAAM,IAAE,cACTQ,KAAA,QAAK8C,SAAS,CAAC,iDAAiD,CAAAD,QAAA,eAChE7C,KAAA,MAAG8C,SAAS,CAAC,qCAAqC,CAAAD,QAAA,EAAC,wBAAsB,CAACxB,KAAK,CAAC,GAAC,GAAI,CACpFd,aAAa,CAACwC,MAAM,EAAE,CAAC,CACrBxC,aAAa,CAACyC,GAAG,CAAC,SAACC,MAAM,CAAG,CAC3B,mBACEnD,IAAA,CAACJ,IAAI,EAACwD,EAAE,YAAAf,MAAA,CAAac,MAAM,CAACE,GAAG,CAAG,CAAAN,QAAA,cACpC/C,IAAA,CAACF,UAAU,EAACqD,MAAM,CAAEA,MAAO,EAAc,EAClC,CAET,CAAC,CAAC,CAEPrC,SAAS,eAAId,IAAA,QAAKgD,SAAS,CAAC,aAAa,CAACM,GAAG,CAAC,iFAAiF,EAAQ,GAE9H,GAEH,CAEP,CAEA,cAAe,CAAAjD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}