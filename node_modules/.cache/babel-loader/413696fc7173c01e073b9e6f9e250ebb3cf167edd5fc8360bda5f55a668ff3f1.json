{"ast":null,"code":"import _slicedToArray from\"/home/amal/Desktop/PRT/recipe/recipe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{isAuthenticated}from\"../../helper/helper\";import{Link}from\"react-router-dom\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setredirect=_useState6[1];var url=process.env.REACT_APP_API;var validateEmail=function validateEmail(email){{var re=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);}};var HandleClick=function HandleClick(){if(email,password){var isVallid=validateEmail(email);if(isVallid){fetch(\"\".concat(url,\"/login\"),{method:\"POST\",headers:{'Content-Type':\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){alert(data.error);}else{localStorage.setItem(\"token\",JSON.stringify(data.token));localStorage.setItem(\"user\",data.user);setemail(\"\");setpassword(\"\");console.log(isAuthenticated());setredirect(true);}});}else{alert(\"Please Enter Valid Email\");}}else{alert(\"Please Fill all Fields\");}};var performRedirect=function performRedirect(){if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:\"/recipes\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center w-[100vw] h-[100vh] bg-[blue]\",children:[performRedirect(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center flex-col w-[40%] h-[70%] bg-white drop-shadow-md gap-3\\trounded-md\\t\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-4xl text-blue-400\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pt-3 font-light text-[gray] text-sm\",children:\"Enter your credentials to access your account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pb-5 \",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"bg-white w-full border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm\",placeholder:\"User Id\",onChange:function onChange(e){setemail(e.target.value);},value:email})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"bg-white w-full border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm\",placeholder:\"Password\",onChange:function onChange(e){setpassword(e.target.value);},value:password})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 w-[250px] rounded-lg text-white\",onClick:HandleClick,children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center pt-3\",children:\"Sign Up\"})})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","isAuthenticated","Link","Navigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setemail","_useState3","_useState4","password","setpassword","_useState5","_useState6","redirect","setredirect","url","process","env","REACT_APP_API","validateEmail","re","test","HandleClick","isVallid","fetch","concat","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","alert","localStorage","setItem","token","user","performRedirect","to","className","children","type","placeholder","onChange","e","target","value","onClick"],"sources":["/home/amal/Desktop/PRT/recipe/recipe/src/components/login/login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { isAuthenticated } from \"../../helper/helper\";\nimport { Link } from \"react-router-dom\";\n\nimport { Navigate } from \"react-router-dom\";\n\nconst Login = () => {\n    const [email, setemail] = useState(\"\");\n    const [password, setpassword] = useState(\"\");\n    const [redirect, setredirect] = useState(false);\n    const url=process.env.REACT_APP_API;\n\n    const validateEmail = (email) => {\n        {\n            const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(email);\n        }\n    }\n\n    const HandleClick = () => {\n        if (email, password) {\n            const isVallid = validateEmail(email);\n            if (isVallid) {\n                fetch(`${url}/login`, {\n                    method: \"POST\",\n                    headers: { 'Content-Type': \"application/json\" },\n                    body: JSON.stringify({\n                        email: email,\n                        password: password\n                    })\n                }).then((res) => res.json()\n                ).then((data) => {\n                    console.log(data);\n                    if (data.error) {\n                        alert(data.error)\n                    } else {\n                        localStorage.setItem(\"token\", JSON.stringify(data.token))\n                        localStorage.setItem(\"user\", data.user)\n                        setemail(\"\")\n                        setpassword(\"\")\n                        console.log(isAuthenticated())\n                        \n                        setredirect(true);\n                        \n                    }\n                })\n            } else {\n                alert(\"Please Enter Valid Email\");\n            }\n\n        } else {\n            alert(\"Please Fill all Fields\")\n        }\n    }\n\n    const performRedirect = () =>{\n        if (redirect){\n            return <Navigate to=\"/recipes\" />\n        }\n    }\n    return (\n\n        <div className=\"flex justify-center items-center w-[100vw] h-[100vh] bg-[blue]\">\n            {performRedirect()}\n            \n\n            <div className=\"flex justify-center items-center flex-col w-[40%] h-[70%] bg-white drop-shadow-md gap-3\trounded-md\t\">\n            \n\n                <div className=\"text-center p-3\">\n                    <h1 className=\"font-bold text-4xl text-blue-400\">Login</h1>\n                    <p className=\"pt-3 font-light text-[gray] text-sm\">Enter your credentials to access your account</p>\n                </div>\n                <div className=\"flex flex-col justify-center items-center\">\n                    <div className=\"pb-5 \">\n                        <input type=\"email\" className=\"bg-white w-full border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm\" placeholder=\"User Id\" onChange={(e) => { setemail(e.target.value) }} value={email} />\n                    </div>\n                    <div >\n                        <input type=\"password\" className=\"bg-white w-full border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm\" placeholder=\"Password\" onChange={(e) => { setpassword(e.target.value) }} value={password} />\n                        \n                    </div>\n\n\n\n                </div>\n                <div className=\"pt-3\">\n                    <button className=\"bg-blue-500 w-[250px] rounded-lg text-white\" onClick={HandleClick}>Sign In</button>\n                    <Link to=\"/register\" ><p className=\"text-center pt-3\" >Sign Up</p></Link>\n                </div>\n                \n\n            </div>\n           \n\n        </div>\n\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}